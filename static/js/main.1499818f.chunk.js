(this["webpackJsonptrading-strategy-tester"]=this["webpackJsonptrading-strategy-tester"]||[]).push([[0],{112:function(e,t,a){var n={"./alphavantage/api":[293,3,7],"./xAPI/api":[294,4]};function r(e){if(!a.o(n,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=n[e],r=t[0];return Promise.all(t.slice(1).map(a.e)).then((function(){return a(r)}))}r.keys=function(){return Object.keys(n)},r.id=112,e.exports=r},137:function(e){e.exports=JSON.parse('{"common":{"hello_world":"Welcome to Trading Strategy Tester","list":"list","listv":"list","create":"create","edit":"edit","delete":"delete","save":"save","cancel":"cancel","loading":"loading","admin":"admin","error_saving":"error saving","ok":"ok","nr":"nr.","from":"from","remove":"remove","download":"download pdf","generate":"generate pdf","select_data_source":"select data source","select_symbol":"select symbol","select_period":"select period","select_strategy":"select strategy"},"orderbooks":{"orderbooks":"orderbooks"},"xapi":{"symbols":{"symbols":"XAPI symbols"}},"alphavantage":{"symbols":{"symbols":"Alphavantage symbols"}},"symbols":{"symbols":"symbols","symbol":"symbol","currency":"currency","category_name":"category name","description":"description","bid":"bid","ask":"ask","high":"high","low":"low","name":"name","type":"type","region":"region","market_open":"market open","market_close":"market close","timezone":"timezone"}}')},144:function(e,t,a){e.exports=a(291)},266:function(e,t,a){},267:function(e,t,a){},268:function(e,t,a){},270:function(e,t,a){},271:function(e,t,a){},287:function(e,t,a){var n={"./test01.ts":[295,5],"./test02.ts":[296,6]};function r(e){if(!a.o(n,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=n[e],r=t[0];return a.e(t[1]).then((function(){return a(r)}))}r.keys=function(){return Object.keys(n)},r.id=287,e.exports=r},291:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),o=a(70),s=a(42),c=a(15),l=a.n(c),i=a(21),u="LOGIN",d="REGISTER",m="LOGOUT",p=a(16),h=a(17),f=a(19),b=a(18),y=a(20),g=a(299),E=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(f.a)(this,Object(b.a)(t).call(this,e))).state={dataSources:["alphavantage","xAPI","finnhub"]},a}return Object(y.a)(t,e),Object(h.a)(t,[{key:"onHandleDataSourceChanged",value:function(e){this.props.onSetDataSource(e.target.value)}},{key:"render",value:function(){for(var e=this.state.dataSources,t=[],a=0;a<e.length;a++)t.push(r.a.createElement("option",{value:e[a],key:a},e[a]));return r.a.createElement(r.a.Fragment,null,r.a.createElement("h4",null,"Select data source"),r.a.createElement(g.a,{type:"select",name:"data-source",id:"dataSourceSelect",value:this.props.dataSource,onChange:this.onHandleDataSourceChanged.bind(this)},t))}}]),t}(n.Component),S=l()(E),O=Object(i.connect)(null,(function(e){return{onSetDataSource:function(t){e(function(e){return{type:"SET_DATA_SOURCE",dataSource:e}}(t))}}}))(S),v=a(34),k=a.n(v),j=a(71),A=a(138),w=(a(111),a(300)),C=a(301),T=a(302),D=a(303),x=a(304),P=[{str:"M1",val:1},{str:"M5",val:5},{str:"M15",val:15},{str:"M30",val:30},{str:"H1",val:60},{str:"H4",val:240},{str:"D1",val:1440},{str:"W1",val:10080},{str:"MN1",val:43200}],_=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(f.a)(this,Object(b.a)(t).call(this,e))).state={keyword:null,symbols:[],loading:!0},a}return Object(y.a)(t,e),Object(h.a)(t,[{key:"onHandleKeywordChange",value:function(e){this.setState({keyword:e.target.value})}},{key:"onHandleSearchClick",value:function(){var e=Object(j.a)(k.a.mark((function e(t){var n,r;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a(112)("./"+this.props.dataSource+"/api");case 2:return n=e.sent,e.next=5,n.searchSymbol(this.state.keyword);case 5:r=e.sent,console.log(r),this.setState({symbols:r,loading:!1});case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onHandleSymbolClick",value:function(e){this.props.onSetSymbol(e)}},{key:"onHandlePeriodChange",value:function(e){this.props.onSetPeriod(e.target.value)}},{key:"onHandleDefaultChange",value:function(e){this.props.onSetIsDefault(e.target.checked)}},{key:"onHandleAddClick",value:function(){var e=Object(j.a)(k.a.mark((function e(t){var n,r;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a(112)("./"+this.props.dataSource+"/api");case 2:return n=e.sent,e.next=5,n.getCandles(this.props.symbol,this.props.period);case 5:r=e.sent,this.props.onAddCandles(this.props.symbol,this.props.period,this.props.isDefault,r),this.props.onSetIsDefault(!1);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){for(var e=this,t=this.state,a=t.symbols,n=t.loading,o=[],s=0;s<P.length;s++)o.push(r.a.createElement("option",{value:P[s].val,key:s},P[s].str));var c=void 0===this.props.symbolsAndPeriods.find((function(e){return!0===e.isDefault}));return r.a.createElement(r.a.Fragment,null,r.a.createElement("h4",null,"Add symbol and period"),r.a.createElement(w.a,null,r.a.createElement(C.a,null,r.a.createElement("h5",null,"Search symbol"))),r.a.createElement(w.a,null,r.a.createElement(C.a,{sm:"6"},r.a.createElement(g.a,{type:"text",name:"keyword",id:"keyword",value:this.state.keyword,onChange:this.onHandleKeywordChange.bind(this)})),r.a.createElement(C.a,{sm:"6"},r.a.createElement(T.a,{block:!0,onClick:this.onHandleSearchClick.bind(this)},"Search symbol"))),r.a.createElement(w.a,null,r.a.createElement(C.a,null,r.a.createElement("h5",null,"Select symbol"),r.a.createElement(A.a,{getTdProps:function(t,a,n,r){return{onClick:function(t,n){e.onHandleSymbolClick(a.original.symbol)}}},data:a,columns:[{id:"symbol",Header:this.props.p.tc("symbols.symbol"),accessor:function(e){return e.symbol}},{id:"name",Header:this.props.p.tc("symbols.name"),accessor:function(e){return e.name}},{id:"type",Header:this.props.p.tc("symbols.type"),accessor:function(e){return e.type}},{id:"currency",Header:this.props.p.tc("symbols.currency"),accessor:function(e){return e.currency}}],defaultPageSize:10,className:"-striped -highlight",loading:n,filterable:!0}))),r.a.createElement(w.a,null,r.a.createElement(C.a,null,r.a.createElement("h5",null,"Select period"),r.a.createElement(g.a,{type:"select",name:"period",id:"periodSelect",value:this.props.period,onChange:this.onHandlePeriodChange.bind(this)},o))),r.a.createElement(w.a,null,r.a.createElement(C.a,null,r.a.createElement("h5",null,"Select if default"),r.a.createElement(D.a,{check:!0},r.a.createElement(x.a,{check:!0},r.a.createElement(g.a,{type:"checkbox",onChange:this.onHandleDefaultChange.bind(this),disabled:!c,checked:this.props.isDefault})," ","Check if default")))),r.a.createElement(w.a,{className:"my-3 justify-content-md-center"},r.a.createElement(C.a,{sm:"6"},r.a.createElement(T.a,{block:!0,onClick:this.onHandleAddClick.bind(this)},"Add symbol and period"))))}}]),t}(n.Component),N=l()(_),H=Object(i.connect)((function(e){return{dataSource:e.testerConfigs.dataSource,symbol:e.testerConfigs.symbol,period:e.testerConfigs.period,isDefault:e.testerConfigs.isDefault,symbolsAndPeriods:e.testerConfigs.symbolsAndPeriods,strategy:e.testerConfigs.strategy}}),(function(e){return{onSetSymbol:function(t){e(function(e){return{type:"SET_SYMBOL",symbol:e}}(t))},onSetPeriod:function(t){e(function(e){return{type:"SET_PERIOD",period:e}}(t))},onSetIsDefault:function(t){e(function(e){return{type:"SET_IS_DEFAULT",isDefault:e}}(t))},onAddCandles:function(t,a,n,r){e(function(e,t,a,n){return{type:"ADD_CANDLES",symbol:e,period:t,isDefault:a,candles:n}}(t,a,n,r))}}}))(N),I=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(f.a)(this,Object(b.a)(t).call(this,e))).state={strategies:["test01","test02"]},a}return Object(y.a)(t,e),Object(h.a)(t,[{key:"onHandleStrategyChanged",value:function(e){this.props.onSetStrategy(e.target.value)}},{key:"render",value:function(){for(var e=this.state.strategies,t=[],a=0;a<e.length;a++)t.push(r.a.createElement("option",{value:e[a],key:a},e[a]));return r.a.createElement(r.a.Fragment,null,r.a.createElement("h4",null,"Select strategy"),r.a.createElement(g.a,{type:"select",name:"strategy",id:"strategySelect",value:this.props.strategy,onChange:this.onHandleStrategyChanged.bind(this)},t))}}]),t}(n.Component),F=l()(I),M=Object(i.connect)(null,(function(e){return{onSetStrategy:function(t){e(function(e){return{type:"SET_STRATEGY",strategy:e}}(t))}}}))(F),L=a(64),R=a.n(L),z=a(80),Y=a(28),U=a(58),X=a(43),B=a(44),V=a(31),G=a(132),W=a(74),J=a(57),K=a(133),Z=a(2),q=function(e){function t(){return Object(p.a)(this,t),Object(f.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(y.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=Object(J.ema)().id(0).options({windowSize:26}).merge((function(e,t){e.ema26=t})).accessor((function(e){return e.ema26})),t=Object(J.ema)().id(1).options({windowSize:12}).merge((function(e,t){e.ema12=t})).accessor((function(e){return e.ema12})),a=Object(J.sma)().id(3).options({windowSize:50,sourcePath:"volume"}).merge((function(e,t){e.smaVolume50=t})).accessor((function(e){return e.smaVolume50})),n=Object(J.rsi)().options({windowSize:14}).merge((function(e,t){e.rsi=t})).accessor((function(e){return e.rsi})),o=Object(J.atr)().options({windowSize:14}).merge((function(e,t){e.atr14=t})).accessor((function(e){return e.atr14})),s=this.props,c=s.type,l=s.data,i=s.width,u=s.ratio,d=e(t(a(n(o(l))))),m=G.discontinuousTimeScaleProvider.inputDateAccessor((function(e){return e.date}))(d),p=m.data,h=m.xScale,f=m.xAccessor,b=m.displayXAccessor,y=[f(Object(Z.last)(p)),f(p[Math.max(0,p.length-150)])];return r.a.createElement(U.b,{height:730,width:i,ratio:u,margin:{left:70,right:70,top:20,bottom:30},type:c,seriesName:"ToTheTop",data:p,xScale:h,xAccessor:f,displayXAccessor:b,xExtents:y},r.a.createElement(U.a,{id:1,height:270,yExtents:[function(e){return[e.high,e.low]},e.accessor(),t.accessor()],padding:{top:10,bottom:20}},r.a.createElement(B.XAxis,{axisAt:"bottom",orient:"bottom",showTicks:!1,outerTickSize:0}),r.a.createElement(B.YAxis,{axisAt:"right",orient:"right",ticks:5}),r.a.createElement(V.MouseCoordinateY,{at:"right",orient:"right",displayFormat:Object(z.b)(".2f")}),r.a.createElement(X.CandlestickSeries,null),r.a.createElement(X.LineSeries,{yAccessor:e.accessor(),stroke:e.stroke()}),r.a.createElement(X.LineSeries,{yAccessor:t.accessor(),stroke:t.stroke()}),r.a.createElement(V.CurrentCoordinate,{yAccessor:e.accessor(),fill:e.stroke()}),r.a.createElement(V.CurrentCoordinate,{yAccessor:t.accessor(),fill:t.stroke()}),r.a.createElement(V.EdgeIndicator,{itemType:"last",orient:"right",edgeAt:"right",yAccessor:function(e){return e.close},fill:function(e){return e.close>e.open?"#6BA583":"#FF0000"}}),r.a.createElement(W.OHLCTooltip,{xDisplayFormat:Object(Y.b)("%Y-%m-%d %H:%M"),origin:[-40,0]}),r.a.createElement(W.MovingAverageTooltip,{onClick:function(e){return console.log(e)},origin:[-38,15],options:[{yAccessor:e.accessor(),type:"EMA",stroke:e.stroke(),windowSize:e.options().windowSize},{yAccessor:t.accessor(),type:"EMA",stroke:t.stroke(),windowSize:t.options().windowSize}]})),r.a.createElement(U.a,{id:2,height:150,yExtents:[function(e){return e.volume},a.accessor()],origin:function(e,t){return console.log("chart id 2:",e,t),[0,t-400]}},r.a.createElement(B.YAxis,{axisAt:"left",orient:"left",ticks:5,tickFormat:Object(z.b)(".2s")}),r.a.createElement(V.MouseCoordinateY,{at:"left",orient:"left",displayFormat:Object(z.b)(".4s")}),r.a.createElement(X.BarSeries,{yAccessor:function(e){return e.volume},fill:function(e){return e.close>e.open?"#6BA583":"#FF0000"}}),r.a.createElement(X.AreaSeries,{yAccessor:a.accessor(),stroke:a.stroke(),fill:a.fill()})),r.a.createElement(U.a,{id:3,yExtents:[0,100],height:125,origin:function(e,t){return console.log("chart id 3:",e,t),[0,t-250]}},r.a.createElement(B.XAxis,{axisAt:"bottom",orient:"bottom",showTicks:!1,outerTickSize:0}),r.a.createElement(B.YAxis,{axisAt:"right",orient:"right",tickValues:[30,50,70]}),r.a.createElement(V.MouseCoordinateY,{at:"right",orient:"right",displayFormat:Object(z.b)(".2f")}),r.a.createElement(X.RSISeries,{yAccessor:function(e){return e.rsi}}),r.a.createElement(W.RSITooltip,{origin:[-38,15],yAccessor:function(e){return e.rsi},options:n.options()})),r.a.createElement(U.a,{id:8,yExtents:o.accessor(),height:125,origin:function(e,t){return[0,t-125]},padding:{top:10,bottom:10}},r.a.createElement(B.XAxis,{axisAt:"bottom",orient:"bottom"}),r.a.createElement(B.YAxis,{axisAt:"right",orient:"right",ticks:2}),r.a.createElement(V.MouseCoordinateX,{at:"bottom",orient:"bottom",displayFormat:Object(Y.b)("%Y-%m-%d %H:%M")}),r.a.createElement(V.MouseCoordinateY,{at:"right",orient:"right",displayFormat:Object(z.b)(".2f")}),r.a.createElement(X.LineSeries,{yAccessor:o.accessor(),stroke:o.stroke()}),r.a.createElement(W.SingleValueTooltip,{yAccessor:o.accessor(),yLabel:"ATR (".concat(o.options().windowSize,")"),yDisplayFormat:Object(z.b)(".2f"),origin:[-40,15]})),r.a.createElement(V.CrossHairCursor,null))}}]),t}(r.a.Component);q.defaultProps={type:"svg"};var Q,$,ee,te,ae=q=Object(K.fitWidth)(q),ne=(a(266),function(e){function t(){return Object(p.a)(this,t),Object(f.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(y.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this.props.candles.map((function(e){var t=e.candles.map((function(e){var t={};return t.date=R()(e.date).toDate(),t.open=e.open,t.high=e.high,t.low=e.low,t.close=e.close,t.volume=e.volume,t}));return t.symbol=e.symbol,t.period=e.period,t})).map((function(e){return r.a.createElement(w.a,{className:"mb-5"},r.a.createElement(C.a,null,r.a.createElement("h4",null,"Chart of symbol ",e.symbol," with ",e.period," period"),r.a.createElement(ae,{type:"hybrid",data:e})))}));return r.a.createElement(r.a.Fragment,null,e)}}]),t}(n.Component)),re=l()(ne),oe=Object(i.connect)((function(e){return{candles:e.testerConfigs.symbolsAndPeriods}}))(re),se=a(310),ce=a(306),le=a(307),ie=a(308),ue=a(309),de=function(e){function t(){return Object(p.a)(this,t),Object(f.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(y.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this.props,t=e.startPrice,a=e.endPrice,n=e.side,o=e.startDate,s=e.endDate,c="success",l=0;return"BUY"===n?l=a-t:"SELL"===n&&(l=t-a),l<0&&(c="danger"),r.a.createElement(ce.a,{color:c},r.a.createElement(le.a,null,n),r.a.createElement(ie.a,null,R()(o).format("MMM D ddd HH:mm"),": ",r.a.createElement(ue.a,{pill:!0},t),r.a.createElement("br",null),R()(s).format("MMM D ddd HH:mm"),": ",r.a.createElement(ue.a,{pill:!0},a),r.a.createElement("br",null),"Profit: ",r.a.createElement(ue.a,{pill:!0},l.toFixed(2))))}}]),t}(n.Component),me=l()(de),pe=(a(267),function(e){function t(){return Object(p.a)(this,t),Object(f.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(y.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=0,t=[];return this.props.trades.forEach((function(a,n,o){if("NONE"!==a.side){var s=n<o.length-1?o[n+1]:{date:"",price:a.price};t.push(r.a.createElement(me,{startPrice:a.price,endPrice:s.price,side:a.side,startDate:a.date,endDate:s.date})),"BUY"===a.side&&(e+=s.price-a.price),"SELL"===a.side&&(e+=a.price-s.price)}})),r.a.createElement(w.a,null,r.a.createElement(C.a,null,r.a.createElement("h4",null,"Profit: ",r.a.createElement("span",{className:"text-danger font-weight-bold"},e.toFixed(2))),r.a.createElement("h4",null,"Strategy results:"),r.a.createElement(se.a,null,t)))}}]),t}(n.Component)),he=l()(pe),fe=Object(i.connect)((function(e){return{trades:e.testerResults.trades}}))(he),be=(a(268),l()((function(){return r.a.createElement(w.a,{className:"main"},r.a.createElement(C.a,null,r.a.createElement(s.c,null,r.a.createElement(s.a,{exact:!0,path:"/data-source",component:O}),r.a.createElement(s.a,{exact:!0,path:"/symbol-period",component:H}),r.a.createElement(s.a,{exact:!0,path:"/strategy",component:M}),r.a.createElement(s.a,{exact:!0,path:"/charts",component:oe}),r.a.createElement(s.a,{exact:!0,path:"/results",component:fe}))))}))),ye=a(311),ge=(a(270),[{str:"M1",val:1},{str:"M5",val:5},{str:"M15",val:15},{str:"M30",val:30},{str:"H1",val:60},{str:"H4",val:240},{str:"D1",val:1440},{str:"W1",val:10080},{str:"MN1",val:43200}]),Ee=function(e){function t(){return Object(p.a)(this,t),Object(f.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(y.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this,t=ge.filter((function(t){return t.val===Number(e.props.period)}));return r.a.createElement(w.a,null,r.a.createElement(C.a,null,r.a.createElement("p",null,"Symbol: ",this.props.symbol," Period: ",t[0].str," ",this.props.isDefault?"default":"","; ",this.props.nrOfCandles," candles")))}}]),t}(n.Component),Se=l()(Ee),Oe=function(e){var t=[];return e.symbolsAndPeriods.forEach((function(e,a,n){t.push(r.a.createElement(Se,{key:e.symbol+e.period,symbol:e.symbol,period:e.period,isDefault:e.isDefault,nrOfCandles:e.candles.length}))})),r.a.createElement(w.a,{className:"right-sidebar"},r.a.createElement(C.a,null,r.a.createElement(w.a,{className:"my-5"},r.a.createElement(C.a,{className:"border-bottom border-top"},r.a.createElement("p",{className:"font-weight-bold"},"Selected data source:"),r.a.createElement("p",null,e.dataSource))),r.a.createElement(w.a,{className:"my-5"},r.a.createElement(C.a,{className:"border-bottom border-top"},r.a.createElement("p",{className:"font-weight-bold"},"Added symbols and periods:"),t)),r.a.createElement(w.a,{className:"my-5"},r.a.createElement(C.a,{className:"border-bottom border-top"},r.a.createElement("p",{className:"font-weight-bold"},"Selected strategy:"),r.a.createElement("p",null,e.strategy)))))},ve=Object(i.connect)((function(e){return{dataSource:e.testerConfigs.dataSource,symbolsAndPeriods:e.testerConfigs.symbolsAndPeriods,strategy:e.testerConfigs.strategy}}))(Oe),ke=function(e){return{type:"SET_IS_TEST_FINISHED",isTestFinished:e}},je=(a(271),a(36)),Ae=a(135),we=a.n(Ae),Ce=a(77),Te=a.n(Ce),De=Te()("tester"),xe=!1,Pe=[],_e=function(){var e=Object(j.a)(k.a.mark((function e(t,n){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return xe=!1,Pe=[],$=n,ee=n.filter((function(e){return!0===e.isDefault}))[0],e.next=6,a(287)("./"+t+".ts");case 6:Q=e.sent,Ge.emit(Je);case 8:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),Ne=function(e){if(De("Handling candle idx ["+e+"]"),e<ee.candles.length){if(xe){var t=Q.exit(ee.candles,e,te,$);!0===t.result&&(De("Exited order %O",t.trade),Pe.push(t.trade),xe=!1)}else{var a=Q.enter(ee.candles,e,$);!0===a.result&&(De("Entered order %O",a.trade),Pe.push(a.trade),te=a.trade,xe=!0)}Ge.emit(Ke,{idx:e})}else Ge.emit(Ze,{trades:Pe})},He=a(46);var Ie=a(139),Fe=a(92);function Me(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Le(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Me(a,!0).forEach((function(t){Object(Fe.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Me(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Re=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{dataSource:null,symbol:null,period:5,isDefault:!0,symbolsAndPeriods:[],strategy:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_DATA_SOURCE":return e.dataSource===t.dataSource?e:Le({},e,{dataSource:t.dataSource,symbol:null,period:5,symbolsAndPeriods:[]});case"SET_SYMBOL":return Le({},e,{symbol:t.symbol});case"SET_PERIOD":return Le({},e,{period:t.period});case"SET_IS_DEFAULT":return Le({},e,{isDefault:t.isDefault});case"ADD_CANDLES":return Le({},e,{symbolsAndPeriods:[].concat(Object(Ie.a)(e.symbolsAndPeriods),[{symbol:t.symbol,period:t.period,isDefault:t.isDefault,candles:t.candles}])});case"SET_STRATEGY":return Le({},e,{strategy:t.strategy});default:return e}};function ze(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Ye(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ze(a,!0).forEach((function(t){Object(Fe.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ze(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Ue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isTestFinished:!0,trades:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_IS_TEST_FINISHED":return Ye({},e,{isTestFinished:t.isTestFinished});case"SET_TRADES":return Ye({},e,{trades:t.trades});default:return e}},Xe=a(136),Be=Object(He.combineReducers)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isLoggedIn:!1,user:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case u:case d:return{isLoggedIn:t.isLoggedIn,user:t.user};case m:return{isLoggedIn:t.isLoggedIn,user:null};default:return e}},testerConfigs:Re,testerResults:Ue,polyglot:Xe.polyglotReducer}),Ve=Object(He.createStore)(Be,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()),Ge=new we.a,We=Te()("event-handler"),Je="TESTER_INITIALIZED",Ke="CANDLE_HANDLED",Ze="FINISHED";Ge.on("START",(function(e){console.log("Starting tester"),_e(e.strategy,e.allCandles)})),Ge.on(Je,(function(){console.log("Tester initialized; handling first candle"),Ne(0)})),Ge.on(Ke,(function(e){We("Handling candle",e.idx+1),Ne(++e.idx)})),Ge.on(Ze,(function(e){console.log("Test finished!"),Ve.dispatch(ke(!0)),Ve.dispatch({type:"SET_TRADES",trades:e.trades})}));var qe=function(e){function t(){return Object(p.a)(this,t),Object(f.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(y.a)(t,e),Object(h.a)(t,[{key:"onRunTestClick",value:function(e){this.props.onSetIsTestFinished(!1),Ge.emit("START",{strategy:this.props.strategy,allCandles:this.props.symbolsAndPeriods})}},{key:"render",value:function(){return this.props.isTestFinished?r.a.createElement(w.a,{className:"left-sidebar"},r.a.createElement(C.a,null,r.a.createElement(w.a,null,r.a.createElement(C.a,{className:"text-center"},r.a.createElement("h3",null,"Trading Strategy Tester"))),r.a.createElement(w.a,{className:"mt-5"},r.a.createElement(C.a,null,r.a.createElement(T.a,{block:!0,color:"success",tag:je.b,to:"data-source"},"Select data source"))),r.a.createElement(w.a,{className:"mt-5"},r.a.createElement(C.a,null,r.a.createElement(T.a,{block:!0,color:"success",tag:je.b,to:"symbol-period",disabled:null===this.props.dataSource},"Add symbol & period"))),r.a.createElement(w.a,{className:"mt-5"},r.a.createElement(C.a,null,r.a.createElement(T.a,{block:!0,color:"success",tag:je.b,to:"strategy"},"Select strategy"))),r.a.createElement(w.a,{className:"mt-5"},r.a.createElement(C.a,null,r.a.createElement(T.a,{block:!0,color:"primary",onClick:this.onRunTestClick.bind(this),disabled:null===this.props.strategy||0===this.props.symbolsAndPeriods.length},"Run test"))),r.a.createElement(w.a,{className:"mt-5"},r.a.createElement(C.a,null,r.a.createElement(T.a,{block:!0,color:"warning",tag:je.b,to:"charts",disabled:0===this.props.symbolsAndPeriods.length},"View charts"))),r.a.createElement(w.a,{className:"mt-5"},r.a.createElement(C.a,null,r.a.createElement(T.a,{block:!0,color:"warning",tag:je.b,to:"results",disabled:!1===this.props.isTestFinished},"View results"))))):r.a.createElement("img",{alt:"",src:"loading.gif"})}}]),t}(r.a.Component),Qe=l()(qe),$e=Object(i.connect)((function(e){return{isTestFinished:e.testerResults.isTestFinished,dataSource:e.testerConfigs.dataSource,symbolsAndPeriods:e.testerConfigs.symbolsAndPeriods,strategy:e.testerConfigs.strategy}}),(function(e){return{onSetIsTestFinished:function(t){e(ke(t))}}}))(Qe),et=function(){return r.a.createElement("div",null,r.a.createElement(ye.a,{fluid:!0},r.a.createElement(w.a,null,r.a.createElement(C.a,{sm:"2"},r.a.createElement($e,null)),r.a.createElement(C.a,{sm:"7"},r.a.createElement(be,null)),r.a.createElement(C.a,{sm:"3"},r.a.createElement(ve,null)))))},tt=(a(290),a(90)),at=a(137);Ve.dispatch(Object(tt.setLanguage)("en",at)),o.render(n.createElement(i.Provider,{store:Ve},n.createElement(je.a,null,n.createElement(et,null))),document.getElementById("root"))}},[[144,1,2]]]);
//# sourceMappingURL=main.1499818f.chunk.js.map
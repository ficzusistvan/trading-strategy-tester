(this["webpackJsonptrading-strategy-tester"]=this["webpackJsonptrading-strategy-tester"]||[]).push([[8],{302:function(e,n,t){"use strict";t.r(n),t.d(n,"searchSymbol",(function(){return b})),t.d(n,"getCandles",(function(){return g}));var r=t(28),a=t.n(r),o=t(46),c=t(323),s=t.n(c),u=t(324),i=t(79),l=t.n(i),p=t(62),f=t.n(p),d=l()("finnhub"),h=function(e){return e.map((function(e){var n={symbol:"",name:"",type:"",currency:""};return n.symbol=e.symbol,n.name=e.description,n.type=e.description,n.currency=e.description,n}))},b=function(){var e=Object(o.a)(a.a.mark((function e(n){var t,r,o,c,i,l,p,f,b,v;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.a.get("https://finnhub.io/api/v1/stock/exchange?token=boqnodnrh5rbk6e6gaf0");case 2:t=e.sent,console.log("exchanges",t.data),r=[],o=!0,c=!1,i=void 0,e.prev=8,l=t.data[Symbol.iterator]();case 10:if(o=(p=l.next()).done){e.next=21;break}return f=p.value,e.next=14,s.a.get("https://finnhub.io/api/v1/stock/symbol?exchange="+f.code+"&token=boqnodnrh5rbk6e6gaf0");case 14:b=e.sent,console.log("symbols",b.data),v=u.a(h(b.data),n),r=r.concat(v);case 18:o=!0,e.next=10;break;case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(8),c=!0,i=e.t0;case 27:e.prev=27,e.prev=28,o||null==l.return||l.return();case 30:if(e.prev=30,!c){e.next=33;break}throw i;case 33:return e.finish(30);case 34:return e.finish(27);case 35:return d("searchSymbol",r),e.abrupt("return",r);case 37:case"end":return e.stop()}}),e,null,[[8,23,27,35],[28,,30,34]])})));return function(n){return e.apply(this,arguments)}}(),v=function(e){for(var n=[],t=0;t<e.t.length;t++){console.log("finnhub candle timestamp:",e.t[t]);var r={date:0,open:0,high:0,low:0,close:0,volume:0};r.date=f()(1e3*e.t[t]).toDate(),r.open=e.o[t],r.high=e.h[t],r.low=e.l[t],r.close=e.c[t],r.volume=e.v[t],n.push(r)}return n},g=function(){var e=Object(o.a)(a.a.mark((function e(n,t){var r,o;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return 259200,d("Stock Candles",r="https://finnhub.io/api/v1/stock/candle?symbol="+n+"&resolution="+t+"&count=259200&token=boqnodnrh5rbk6e6gaf0"),e.next=5,s.a.get(r);case 5:if(o=e.sent,d("Stock Candles",o.data),"ok"!==o.data.s){e.next=11;break}return e.abrupt("return",v(o.data));case 11:return console.log("getCandles failed"),e.abrupt("return",[]);case 13:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}()},324:function(e,n,t){"use strict";t.d(n,"a",(function(){return r}));var r=function(e,n){return e.filter((function(e){return e.symbol.includes(n)||e.name.includes(n)}))}}}]);
//# sourceMappingURL=8.dbdaabfc.chunk.js.map
{"version":3,"sources":["tester/data-sources/local-csv/api.ts","../node_modules/papaparse/papaparse.min.js"],"names":["debug","Debug","searchSymbol","keywords","a","obj","symbol","name","type","currency","getCandles","period","results","Papa","parse","store","getState","testerConfigs","csv","header","meta","aborted","data","map","candle","console","log","date","open","high","low","close","volume","moment","toDate","Open","High","Low","Close","Volume","s","f","self","window","n","document","postMessage","o","test","location","protocol","h","b","e","t","i","dynamicTyping","q","dynamicTypingFunction","transform","worker","WORKERS_SUPPORTED","r","URL","webkitURL","toString","BLOB_URL","createObjectURL","Blob","Worker","onmessage","m","id","userStep","step","userChunk","chunk","userComplete","complete","userError","error","input","config","workerId","NODE_STREAM_INPUT","download","l","p","readable","read","on","g","File","Object","c","stream","unparse","_","v","delimiter","BAD_DELIMITERS","filter","indexOf","length","quotes","Array","isArray","skipEmptyLines","newline","quoteChar","columns","Error","escapeChar","RegExp","U","JSON","u","fields","push","y","keys","join","trim","d","constructor","Date","stringify","slice","replace","charAt","RECORD_SEP","String","fromCharCode","UNIT_SEP","BYTE_ORDER_MARK","LocalChunkSize","RemoteChunkSize","DefaultDelimiter","Parser","E","ParserHandle","NetworkStreamer","FileStreamer","StringStreamer","ReadableStreamStreamer","jQuery","fn","this","each","prop","toUpperCase","attr","toLowerCase","FileReader","files","file","inputElem","instanceConfig","extend","before","action","reason","splice","_handle","_finished","_completed","_halted","_input","_baseIndex","_partialLine","_rowCount","_start","_nextChunk","isFirstChunk","_completeResults","errors","w","chunkSize","parseInt","streamer","_config","call","parseChunk","beforeFirstChunk","paused","cursor","substring","preview","WORKER_ID","finished","concat","_sendError","_readChunk","_chunkLoaded","XMLHttpRequest","withCredentials","onload","onerror","_chunkError","downloadRequestHeaders","setRequestHeader","send","message","status","readyState","responseText","getResponseHeader","lastIndexOf","statusText","webkitSlice","mozSlice","FileReaderSync","Math","min","size","readAsText","encoding","target","result","pause","prototype","apply","arguments","resume","_streamData","_streamEnd","_streamError","_checkIsFinished","shift","_streamCleanUp","removeListener","pow","abort","k","forEach","transformHeader","parseFloat","code","row","split","comments","abs","successful","bestDelimiter","delimitersToGuess","getCharIndex","setTimeout","O","D","I","T","A","L","F","fastMode","z","M","j","R","S","x","nextDelim","quoteSearch","C","index","linebreak","truncated","terminate","create"],"mappings":"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","file":"static/js/10.78f38e08.chunk.js","sourcesContent":["import * as i from '../../interfaces'\r\n\r\n// DEBUGGING\r\nimport Debug from 'debug'\r\nimport moment from 'moment';\r\nimport store from '../../../redux/store'\r\nimport Papa from 'papaparse'\r\nconst debug = Debug('localcsv')\r\n\r\nlet searchSymbol = async function (keywords: string) {\r\n  let obj: i.ICommonSymbol = { symbol: 'csv-' + keywords, name: 'csv-name', type: 'csv-type', currency: 'csv-currency' };\r\n  debug('Symbols:', [obj]);\r\n  return [obj];\r\n}\r\n\r\nlet normalizeCandles = function (candles: Array<any>) {\r\n  return candles.map(candle => {\r\n    console.log('localcsv candle timestamp:', candle['Local time']); // 24.04.2019 05:00:00.000 GMT+0300\r\n    let obj: i.ICommonCandle = { date: 0, open: 0, high: 0, low: 0, close: 0, volume: 0 };\r\n\r\n    obj.date = moment(candle['Local time'], \"DD.MM.YYYY HH:mm:ss.SSS Z\").toDate(); // 02.01.2019 01:00:00.000 GMT+0200\r\n    obj.open = candle.Open;\r\n    obj.high = candle.High;\r\n    obj.low = candle.Low;\r\n    obj.close = candle.Close;\r\n    obj.volume = candle.Volume;\r\n\r\n    return obj;\r\n  });\r\n}\r\n\r\nlet getCandles = function (symbol: string, period: number) {\r\n  const results = Papa.parse(store.getState().testerConfigs.csv, {\r\n    header: true\r\n  });\r\n  if (results.meta.aborted === false) {\r\n    return normalizeCandles(results.data);\r\n  } else {\r\n    console.log('getCandles failed');\r\n    return [];\r\n  }\r\n}\r\n\r\nexport {\r\n  searchSymbol,\r\n  getCandles\r\n}","/* @license\nPapa Parse\nv5.1.1\nhttps://github.com/mholt/PapaParse\nLicense: MIT\n*/\n!function (e, t) {\n  \"function\" == typeof define && define.amd ? define([], t) : \"object\" == typeof module && \"undefined\" != typeof exports ? module.exports = t() : e.Papa = t();\n}(this, function s() {\n  \"use strict\";\n\n  var f = \"undefined\" != typeof self ? self : \"undefined\" != typeof window ? window : void 0 !== f ? f : {};\n  var n = !f.document && !!f.postMessage,\n      o = n && /blob:/i.test((f.location || {}).protocol),\n      a = {},\n      h = 0,\n      b = {\n    parse: function parse(e, t) {\n      var i = (t = t || {}).dynamicTyping || !1;\n      q(i) && (t.dynamicTypingFunction = i, i = {});\n\n      if (t.dynamicTyping = i, t.transform = !!q(t.transform) && t.transform, t.worker && b.WORKERS_SUPPORTED) {\n        var r = function () {\n          if (!b.WORKERS_SUPPORTED) return !1;\n          var e = (i = f.URL || f.webkitURL || null, r = s.toString(), b.BLOB_URL || (b.BLOB_URL = i.createObjectURL(new Blob([\"(\", r, \")();\"], {\n            type: \"text/javascript\"\n          })))),\n              t = new f.Worker(e);\n          var i, r;\n          return t.onmessage = m, t.id = h++, a[t.id] = t;\n        }();\n\n        return r.userStep = t.step, r.userChunk = t.chunk, r.userComplete = t.complete, r.userError = t.error, t.step = q(t.step), t.chunk = q(t.chunk), t.complete = q(t.complete), t.error = q(t.error), delete t.worker, void r.postMessage({\n          input: e,\n          config: t,\n          workerId: r.id\n        });\n      }\n\n      var n = null;\n      b.NODE_STREAM_INPUT, \"string\" == typeof e ? n = t.download ? new l(t) : new p(t) : !0 === e.readable && q(e.read) && q(e.on) ? n = new g(t) : (f.File && e instanceof File || e instanceof Object) && (n = new c(t));\n      return n.stream(e);\n    },\n    unparse: function unparse(e, t) {\n      var n = !1,\n          m = !0,\n          _ = \",\",\n          v = \"\\r\\n\",\n          s = '\"',\n          a = s + s,\n          i = !1,\n          r = null;\n      !function () {\n        if (\"object\" != typeof t) return;\n        \"string\" != typeof t.delimiter || b.BAD_DELIMITERS.filter(function (e) {\n          return -1 !== t.delimiter.indexOf(e);\n        }).length || (_ = t.delimiter);\n        (\"boolean\" == typeof t.quotes || \"function\" == typeof t.quotes || Array.isArray(t.quotes)) && (n = t.quotes);\n        \"boolean\" != typeof t.skipEmptyLines && \"string\" != typeof t.skipEmptyLines || (i = t.skipEmptyLines);\n        \"string\" == typeof t.newline && (v = t.newline);\n        \"string\" == typeof t.quoteChar && (s = t.quoteChar);\n        \"boolean\" == typeof t.header && (m = t.header);\n\n        if (Array.isArray(t.columns)) {\n          if (0 === t.columns.length) throw new Error(\"Option columns is empty\");\n          r = t.columns;\n        }\n\n        void 0 !== t.escapeChar && (a = t.escapeChar + s);\n      }();\n      var o = new RegExp(U(s), \"g\");\n      \"string\" == typeof e && (e = JSON.parse(e));\n\n      if (Array.isArray(e)) {\n        if (!e.length || Array.isArray(e[0])) return u(null, e, i);\n        if (\"object\" == typeof e[0]) return u(r || h(e[0]), e, i);\n      } else if (\"object\" == typeof e) return \"string\" == typeof e.data && (e.data = JSON.parse(e.data)), Array.isArray(e.data) && (e.fields || (e.fields = e.meta && e.meta.fields), e.fields || (e.fields = Array.isArray(e.data[0]) ? e.fields : h(e.data[0])), Array.isArray(e.data[0]) || \"object\" == typeof e.data[0] || (e.data = [e.data])), u(e.fields || [], e.data || [], i);\n\n      throw new Error(\"Unable to serialize unrecognized input\");\n\n      function h(e) {\n        if (\"object\" != typeof e) return [];\n        var t = [];\n\n        for (var i in e) {\n          t.push(i);\n        }\n\n        return t;\n      }\n\n      function u(e, t, i) {\n        var r = \"\";\n        \"string\" == typeof e && (e = JSON.parse(e)), \"string\" == typeof t && (t = JSON.parse(t));\n        var n = Array.isArray(e) && 0 < e.length,\n            s = !Array.isArray(t[0]);\n\n        if (n && m) {\n          for (var a = 0; a < e.length; a++) {\n            0 < a && (r += _), r += y(e[a], a);\n          }\n\n          0 < t.length && (r += v);\n        }\n\n        for (var o = 0; o < t.length; o++) {\n          var h = n ? e.length : t[o].length,\n              u = !1,\n              f = n ? 0 === Object.keys(t[o]).length : 0 === t[o].length;\n\n          if (i && !n && (u = \"greedy\" === i ? \"\" === t[o].join(\"\").trim() : 1 === t[o].length && 0 === t[o][0].length), \"greedy\" === i && n) {\n            for (var d = [], l = 0; l < h; l++) {\n              var c = s ? e[l] : l;\n              d.push(t[o][c]);\n            }\n\n            u = \"\" === d.join(\"\").trim();\n          }\n\n          if (!u) {\n            for (var p = 0; p < h; p++) {\n              0 < p && !f && (r += _);\n              var g = n && s ? e[p] : p;\n              r += y(t[o][g], p);\n            }\n\n            o < t.length - 1 && (!i || 0 < h && !f) && (r += v);\n          }\n        }\n\n        return r;\n      }\n\n      function y(e, t) {\n        if (null == e) return \"\";\n        if (e.constructor === Date) return JSON.stringify(e).slice(1, 25);\n\n        var i = e.toString().replace(o, a),\n            r = \"boolean\" == typeof n && n || \"function\" == typeof n && n(e, t) || Array.isArray(n) && n[t] || function (e, t) {\n          for (var i = 0; i < t.length; i++) {\n            if (-1 < e.indexOf(t[i])) return !0;\n          }\n\n          return !1;\n        }(i, b.BAD_DELIMITERS) || -1 < i.indexOf(_) || \" \" === i.charAt(0) || \" \" === i.charAt(i.length - 1);\n\n        return r ? s + i + s : i;\n      }\n    }\n  };\n\n  if (b.RECORD_SEP = String.fromCharCode(30), b.UNIT_SEP = String.fromCharCode(31), b.BYTE_ORDER_MARK = \"\\uFEFF\", b.BAD_DELIMITERS = [\"\\r\", \"\\n\", '\"', b.BYTE_ORDER_MARK], b.WORKERS_SUPPORTED = !n && !!f.Worker, b.NODE_STREAM_INPUT = 1, b.LocalChunkSize = 10485760, b.RemoteChunkSize = 5242880, b.DefaultDelimiter = \",\", b.Parser = E, b.ParserHandle = i, b.NetworkStreamer = l, b.FileStreamer = c, b.StringStreamer = p, b.ReadableStreamStreamer = g, f.jQuery) {\n    var d = f.jQuery;\n\n    d.fn.parse = function (o) {\n      var i = o.config || {},\n          h = [];\n      return this.each(function (e) {\n        if (!(\"INPUT\" === d(this).prop(\"tagName\").toUpperCase() && \"file\" === d(this).attr(\"type\").toLowerCase() && f.FileReader) || !this.files || 0 === this.files.length) return !0;\n\n        for (var t = 0; t < this.files.length; t++) {\n          h.push({\n            file: this.files[t],\n            inputElem: this,\n            instanceConfig: d.extend({}, i)\n          });\n        }\n      }), e(), this;\n\n      function e() {\n        if (0 !== h.length) {\n          var e,\n              t,\n              i,\n              r,\n              n = h[0];\n\n          if (q(o.before)) {\n            var s = o.before(n.file, n.inputElem);\n\n            if (\"object\" == typeof s) {\n              if (\"abort\" === s.action) return e = \"AbortError\", t = n.file, i = n.inputElem, r = s.reason, void (q(o.error) && o.error({\n                name: e\n              }, t, i, r));\n              if (\"skip\" === s.action) return void u();\n              \"object\" == typeof s.config && (n.instanceConfig = d.extend(n.instanceConfig, s.config));\n            } else if (\"skip\" === s) return void u();\n          }\n\n          var a = n.instanceConfig.complete;\n          n.instanceConfig.complete = function (e) {\n            q(a) && a(e, n.file, n.inputElem), u();\n          }, b.parse(n.file, n.instanceConfig);\n        } else q(o.complete) && o.complete();\n      }\n\n      function u() {\n        h.splice(0, 1), e();\n      }\n    };\n  }\n\n  function u(e) {\n    this._handle = null, this._finished = !1, this._completed = !1, this._halted = !1, this._input = null, this._baseIndex = 0, this._partialLine = \"\", this._rowCount = 0, this._start = 0, this._nextChunk = null, this.isFirstChunk = !0, this._completeResults = {\n      data: [],\n      errors: [],\n      meta: {}\n    }, function (e) {\n      var t = w(e);\n      t.chunkSize = parseInt(t.chunkSize), e.step || e.chunk || (t.chunkSize = null);\n      this._handle = new i(t), (this._handle.streamer = this)._config = t;\n    }.call(this, e), this.parseChunk = function (e, t) {\n      if (this.isFirstChunk && q(this._config.beforeFirstChunk)) {\n        var i = this._config.beforeFirstChunk(e);\n\n        void 0 !== i && (e = i);\n      }\n\n      this.isFirstChunk = !1, this._halted = !1;\n      var r = this._partialLine + e;\n      this._partialLine = \"\";\n\n      var n = this._handle.parse(r, this._baseIndex, !this._finished);\n\n      if (!this._handle.paused() && !this._handle.aborted()) {\n        var s = n.meta.cursor;\n        this._finished || (this._partialLine = r.substring(s - this._baseIndex), this._baseIndex = s), n && n.data && (this._rowCount += n.data.length);\n        var a = this._finished || this._config.preview && this._rowCount >= this._config.preview;\n        if (o) f.postMessage({\n          results: n,\n          workerId: b.WORKER_ID,\n          finished: a\n        });else if (q(this._config.chunk) && !t) {\n          if (this._config.chunk(n, this._handle), this._handle.paused() || this._handle.aborted()) return void (this._halted = !0);\n          n = void 0, this._completeResults = void 0;\n        }\n        return this._config.step || this._config.chunk || (this._completeResults.data = this._completeResults.data.concat(n.data), this._completeResults.errors = this._completeResults.errors.concat(n.errors), this._completeResults.meta = n.meta), this._completed || !a || !q(this._config.complete) || n && n.meta.aborted || (this._config.complete(this._completeResults, this._input), this._completed = !0), a || n && n.meta.paused || this._nextChunk(), n;\n      }\n\n      this._halted = !0;\n    }, this._sendError = function (e) {\n      q(this._config.error) ? this._config.error(e) : o && this._config.error && f.postMessage({\n        workerId: b.WORKER_ID,\n        error: e,\n        finished: !1\n      });\n    };\n  }\n\n  function l(e) {\n    var r;\n    (e = e || {}).chunkSize || (e.chunkSize = b.RemoteChunkSize), u.call(this, e), this._nextChunk = n ? function () {\n      this._readChunk(), this._chunkLoaded();\n    } : function () {\n      this._readChunk();\n    }, this.stream = function (e) {\n      this._input = e, this._nextChunk();\n    }, this._readChunk = function () {\n      if (this._finished) this._chunkLoaded();else {\n        if (r = new XMLHttpRequest(), this._config.withCredentials && (r.withCredentials = this._config.withCredentials), n || (r.onload = y(this._chunkLoaded, this), r.onerror = y(this._chunkError, this)), r.open(\"GET\", this._input, !n), this._config.downloadRequestHeaders) {\n          var e = this._config.downloadRequestHeaders;\n\n          for (var t in e) {\n            r.setRequestHeader(t, e[t]);\n          }\n        }\n\n        if (this._config.chunkSize) {\n          var i = this._start + this._config.chunkSize - 1;\n          r.setRequestHeader(\"Range\", \"bytes=\" + this._start + \"-\" + i);\n        }\n\n        try {\n          r.send();\n        } catch (e) {\n          this._chunkError(e.message);\n        }\n\n        n && 0 === r.status && this._chunkError();\n      }\n    }, this._chunkLoaded = function () {\n      4 === r.readyState && (r.status < 200 || 400 <= r.status ? this._chunkError() : (this._start += this._config.chunkSize ? this._config.chunkSize : r.responseText.length, this._finished = !this._config.chunkSize || this._start >= function (e) {\n        var t = e.getResponseHeader(\"Content-Range\");\n        if (null === t) return -1;\n        return parseInt(t.substring(t.lastIndexOf(\"/\") + 1));\n      }(r), this.parseChunk(r.responseText)));\n    }, this._chunkError = function (e) {\n      var t = r.statusText || e;\n\n      this._sendError(new Error(t));\n    };\n  }\n\n  function c(e) {\n    var r, n;\n    (e = e || {}).chunkSize || (e.chunkSize = b.LocalChunkSize), u.call(this, e);\n    var s = \"undefined\" != typeof FileReader;\n    this.stream = function (e) {\n      this._input = e, n = e.slice || e.webkitSlice || e.mozSlice, s ? ((r = new FileReader()).onload = y(this._chunkLoaded, this), r.onerror = y(this._chunkError, this)) : r = new FileReaderSync(), this._nextChunk();\n    }, this._nextChunk = function () {\n      this._finished || this._config.preview && !(this._rowCount < this._config.preview) || this._readChunk();\n    }, this._readChunk = function () {\n      var e = this._input;\n\n      if (this._config.chunkSize) {\n        var t = Math.min(this._start + this._config.chunkSize, this._input.size);\n        e = n.call(e, this._start, t);\n      }\n\n      var i = r.readAsText(e, this._config.encoding);\n      s || this._chunkLoaded({\n        target: {\n          result: i\n        }\n      });\n    }, this._chunkLoaded = function (e) {\n      this._start += this._config.chunkSize, this._finished = !this._config.chunkSize || this._start >= this._input.size, this.parseChunk(e.target.result);\n    }, this._chunkError = function () {\n      this._sendError(r.error);\n    };\n  }\n\n  function p(e) {\n    var i;\n    u.call(this, e = e || {}), this.stream = function (e) {\n      return i = e, this._nextChunk();\n    }, this._nextChunk = function () {\n      if (!this._finished) {\n        var e,\n            t = this._config.chunkSize;\n        return t ? (e = i.substring(0, t), i = i.substring(t)) : (e = i, i = \"\"), this._finished = !i, this.parseChunk(e);\n      }\n    };\n  }\n\n  function g(e) {\n    u.call(this, e = e || {});\n    var t = [],\n        i = !0,\n        r = !1;\n    this.pause = function () {\n      u.prototype.pause.apply(this, arguments), this._input.pause();\n    }, this.resume = function () {\n      u.prototype.resume.apply(this, arguments), this._input.resume();\n    }, this.stream = function (e) {\n      this._input = e, this._input.on(\"data\", this._streamData), this._input.on(\"end\", this._streamEnd), this._input.on(\"error\", this._streamError);\n    }, this._checkIsFinished = function () {\n      r && 1 === t.length && (this._finished = !0);\n    }, this._nextChunk = function () {\n      this._checkIsFinished(), t.length ? this.parseChunk(t.shift()) : i = !0;\n    }, this._streamData = y(function (e) {\n      try {\n        t.push(\"string\" == typeof e ? e : e.toString(this._config.encoding)), i && (i = !1, this._checkIsFinished(), this.parseChunk(t.shift()));\n      } catch (e) {\n        this._streamError(e);\n      }\n    }, this), this._streamError = y(function (e) {\n      this._streamCleanUp(), this._sendError(e);\n    }, this), this._streamEnd = y(function () {\n      this._streamCleanUp(), r = !0, this._streamData(\"\");\n    }, this), this._streamCleanUp = y(function () {\n      this._input.removeListener(\"data\", this._streamData), this._input.removeListener(\"end\", this._streamEnd), this._input.removeListener(\"error\", this._streamError);\n    }, this);\n  }\n\n  function i(_) {\n    var a,\n        o,\n        h,\n        r = Math.pow(2, 53),\n        n = -r,\n        s = /^\\s*-?(\\d*\\.?\\d+|\\d+\\.?\\d*)(e[-+]?\\d+)?\\s*$/i,\n        u = /(\\d{4}-[01]\\d-[0-3]\\dT[0-2]\\d:[0-5]\\d:[0-5]\\d\\.\\d+([+-][0-2]\\d:[0-5]\\d|Z))|(\\d{4}-[01]\\d-[0-3]\\dT[0-2]\\d:[0-5]\\d:[0-5]\\d([+-][0-2]\\d:[0-5]\\d|Z))|(\\d{4}-[01]\\d-[0-3]\\dT[0-2]\\d:[0-5]\\d([+-][0-2]\\d:[0-5]\\d|Z))/,\n        t = this,\n        i = 0,\n        f = 0,\n        d = !1,\n        e = !1,\n        l = [],\n        c = {\n      data: [],\n      errors: [],\n      meta: {}\n    };\n\n    if (q(_.step)) {\n      var p = _.step;\n\n      _.step = function (e) {\n        if (c = e, m()) g();else {\n          if (g(), 0 === c.data.length) return;\n          i += e.data.length, _.preview && i > _.preview ? o.abort() : (c.data = c.data[0], p(c, t));\n        }\n      };\n    }\n\n    function v(e) {\n      return \"greedy\" === _.skipEmptyLines ? \"\" === e.join(\"\").trim() : 1 === e.length && 0 === e[0].length;\n    }\n\n    function g() {\n      if (c && h && (k(\"Delimiter\", \"UndetectableDelimiter\", \"Unable to auto-detect delimiting character; defaulted to '\" + b.DefaultDelimiter + \"'\"), h = !1), _.skipEmptyLines) for (var e = 0; e < c.data.length; e++) {\n        v(c.data[e]) && c.data.splice(e--, 1);\n      }\n      return m() && function () {\n        if (!c) return;\n\n        function e(e) {\n          q(_.transformHeader) && (e = _.transformHeader(e)), l.push(e);\n        }\n\n        if (Array.isArray(c.data[0])) {\n          for (var t = 0; m() && t < c.data.length; t++) {\n            c.data[t].forEach(e);\n          }\n\n          c.data.splice(0, 1);\n        } else c.data.forEach(e);\n      }(), function () {\n        if (!c || !_.header && !_.dynamicTyping && !_.transform) return c;\n\n        function e(e, t) {\n          var i,\n              r = _.header ? {} : [];\n\n          for (i = 0; i < e.length; i++) {\n            var n = i,\n                s = e[i];\n            _.header && (n = i >= l.length ? \"__parsed_extra\" : l[i]), _.transform && (s = _.transform(s, n)), s = y(n, s), \"__parsed_extra\" === n ? (r[n] = r[n] || [], r[n].push(s)) : r[n] = s;\n          }\n\n          return _.header && (i > l.length ? k(\"FieldMismatch\", \"TooManyFields\", \"Too many fields: expected \" + l.length + \" fields but parsed \" + i, f + t) : i < l.length && k(\"FieldMismatch\", \"TooFewFields\", \"Too few fields: expected \" + l.length + \" fields but parsed \" + i, f + t)), r;\n        }\n\n        var t = 1;\n        !c.data.length || Array.isArray(c.data[0]) ? (c.data = c.data.map(e), t = c.data.length) : c.data = e(c.data, 0);\n        _.header && c.meta && (c.meta.fields = l);\n        return f += t, c;\n      }();\n    }\n\n    function m() {\n      return _.header && 0 === l.length;\n    }\n\n    function y(e, t) {\n      return i = e, _.dynamicTypingFunction && void 0 === _.dynamicTyping[i] && (_.dynamicTyping[i] = _.dynamicTypingFunction(i)), !0 === (_.dynamicTyping[i] || _.dynamicTyping) ? \"true\" === t || \"TRUE\" === t || \"false\" !== t && \"FALSE\" !== t && (function (e) {\n        if (s.test(e)) {\n          var t = parseFloat(e);\n          if (n < t && t < r) return !0;\n        }\n\n        return !1;\n      }(t) ? parseFloat(t) : u.test(t) ? new Date(t) : \"\" === t ? null : t) : t;\n      var i;\n    }\n\n    function k(e, t, i, r) {\n      var n = {\n        type: e,\n        code: t,\n        message: i\n      };\n      void 0 !== r && (n.row = r), c.errors.push(n);\n    }\n\n    this.parse = function (e, t, i) {\n      var r = _.quoteChar || '\"';\n      if (_.newline || (_.newline = function (e, t) {\n        e = e.substring(0, 1048576);\n        var i = new RegExp(U(t) + \"([^]*?)\" + U(t), \"gm\"),\n            r = (e = e.replace(i, \"\")).split(\"\\r\"),\n            n = e.split(\"\\n\"),\n            s = 1 < n.length && n[0].length < r[0].length;\n        if (1 === r.length || s) return \"\\n\";\n\n        for (var a = 0, o = 0; o < r.length; o++) {\n          \"\\n\" === r[o][0] && a++;\n        }\n\n        return a >= r.length / 2 ? \"\\r\\n\" : \"\\r\";\n      }(e, r)), h = !1, _.delimiter) q(_.delimiter) && (_.delimiter = _.delimiter(e), c.meta.delimiter = _.delimiter);else {\n        var n = function (e, t, i, r, n) {\n          var s, a, o, h;\n          n = n || [\",\", \"\\t\", \"|\", \";\", b.RECORD_SEP, b.UNIT_SEP];\n\n          for (var u = 0; u < n.length; u++) {\n            var f = n[u],\n                d = 0,\n                l = 0,\n                c = 0;\n            o = void 0;\n\n            for (var p = new E({\n              comments: r,\n              delimiter: f,\n              newline: t,\n              preview: 10\n            }).parse(e), g = 0; g < p.data.length; g++) {\n              if (i && v(p.data[g])) c++;else {\n                var m = p.data[g].length;\n                l += m, void 0 !== o ? 0 < m && (d += Math.abs(m - o), o = m) : o = m;\n              }\n            }\n\n            0 < p.data.length && (l /= p.data.length - c), (void 0 === a || d <= a) && (void 0 === h || h < l) && 1.99 < l && (a = d, s = f, h = l);\n          }\n\n          return {\n            successful: !!(_.delimiter = s),\n            bestDelimiter: s\n          };\n        }(e, _.newline, _.skipEmptyLines, _.comments, _.delimitersToGuess);\n\n        n.successful ? _.delimiter = n.bestDelimiter : (h = !0, _.delimiter = b.DefaultDelimiter), c.meta.delimiter = _.delimiter;\n      }\n      var s = w(_);\n      return _.preview && _.header && s.preview++, a = e, o = new E(s), c = o.parse(a, t, i), g(), d ? {\n        meta: {\n          paused: !0\n        }\n      } : c || {\n        meta: {\n          paused: !1\n        }\n      };\n    }, this.paused = function () {\n      return d;\n    }, this.pause = function () {\n      d = !0, o.abort(), a = q(_.chunk) ? \"\" : a.substring(o.getCharIndex());\n    }, this.resume = function () {\n      t.streamer._halted ? (d = !1, t.streamer.parseChunk(a, !0)) : setTimeout(this.resume, 3);\n    }, this.aborted = function () {\n      return e;\n    }, this.abort = function () {\n      e = !0, o.abort(), c.meta.aborted = !0, q(_.complete) && _.complete(c), a = \"\";\n    };\n  }\n\n  function U(e) {\n    return e.replace(/[.*+?^${}()|[\\]\\\\]/g, \"\\\\$&\");\n  }\n\n  function E(e) {\n    var O,\n        D = (e = e || {}).delimiter,\n        I = e.newline,\n        T = e.comments,\n        A = e.step,\n        L = e.preview,\n        F = e.fastMode,\n        z = O = void 0 === e.quoteChar ? '\"' : e.quoteChar;\n    if (void 0 !== e.escapeChar && (z = e.escapeChar), (\"string\" != typeof D || -1 < b.BAD_DELIMITERS.indexOf(D)) && (D = \",\"), T === D) throw new Error(\"Comment character same as delimiter\");\n    !0 === T ? T = \"#\" : (\"string\" != typeof T || -1 < b.BAD_DELIMITERS.indexOf(T)) && (T = !1), \"\\n\" !== I && \"\\r\" !== I && \"\\r\\n\" !== I && (I = \"\\n\");\n    var M = 0,\n        j = !1;\n    this.parse = function (a, t, i) {\n      if (\"string\" != typeof a) throw new Error(\"Input must be a string\");\n      var r = a.length,\n          e = D.length,\n          n = I.length,\n          s = T.length,\n          o = q(A),\n          h = [],\n          u = [],\n          f = [],\n          d = M = 0;\n      if (!a) return R();\n\n      if (F || !1 !== F && -1 === a.indexOf(O)) {\n        for (var l = a.split(I), c = 0; c < l.length; c++) {\n          if (f = l[c], M += f.length, c !== l.length - 1) M += I.length;else if (i) return R();\n\n          if (!T || f.substring(0, s) !== T) {\n            if (o) {\n              if (h = [], b(f.split(D)), S(), j) return R();\n            } else b(f.split(D));\n\n            if (L && L <= c) return h = h.slice(0, L), R(!0);\n          }\n        }\n\n        return R();\n      }\n\n      for (var p = a.indexOf(D, M), g = a.indexOf(I, M), m = new RegExp(U(z) + U(O), \"g\"), _ = a.indexOf(O, M);;) {\n        if (a[M] !== O) {\n          if (T && 0 === f.length && a.substring(M, M + s) === T) {\n            if (-1 === g) return R();\n            M = g + n, g = a.indexOf(I, M), p = a.indexOf(D, M);\n          } else {\n            if (-1 !== p && (p < g || -1 === g)) {\n              if (!(p < _)) {\n                f.push(a.substring(M, p)), M = p + e, p = a.indexOf(D, M);\n                continue;\n              }\n\n              var v = x(p, _, g);\n\n              if (v && void 0 !== v.nextDelim) {\n                p = v.nextDelim, _ = v.quoteSearch, f.push(a.substring(M, p)), M = p + e, p = a.indexOf(D, M);\n                continue;\n              }\n            }\n\n            if (-1 === g) break;\n            if (f.push(a.substring(M, g)), C(g + n), o && (S(), j)) return R();\n            if (L && h.length >= L) return R(!0);\n          }\n        } else for (_ = M, M++;;) {\n          if (-1 === (_ = a.indexOf(O, _ + 1))) return i || u.push({\n            type: \"Quotes\",\n            code: \"MissingQuotes\",\n            message: \"Quoted field unterminated\",\n            row: h.length,\n            index: M\n          }), w();\n          if (_ === r - 1) return w(a.substring(M, _).replace(m, O));\n\n          if (O !== z || a[_ + 1] !== z) {\n            if (O === z || 0 === _ || a[_ - 1] !== z) {\n              -1 !== p && p < _ + 1 && (p = a.indexOf(D, _ + 1)), -1 !== g && g < _ + 1 && (g = a.indexOf(I, _ + 1));\n              var y = E(-1 === g ? p : Math.min(p, g));\n\n              if (a[_ + 1 + y] === D) {\n                f.push(a.substring(M, _).replace(m, O)), a[M = _ + 1 + y + e] !== O && (_ = a.indexOf(O, M)), p = a.indexOf(D, M), g = a.indexOf(I, M);\n                break;\n              }\n\n              var k = E(g);\n\n              if (a.substring(_ + 1 + k, _ + 1 + k + n) === I) {\n                if (f.push(a.substring(M, _).replace(m, O)), C(_ + 1 + k + n), p = a.indexOf(D, M), _ = a.indexOf(O, M), o && (S(), j)) return R();\n                if (L && h.length >= L) return R(!0);\n                break;\n              }\n\n              u.push({\n                type: \"Quotes\",\n                code: \"InvalidQuotes\",\n                message: \"Trailing quote on quoted field is malformed\",\n                row: h.length,\n                index: M\n              }), _++;\n            }\n          } else _++;\n        }\n      }\n\n      return w();\n\n      function b(e) {\n        h.push(e), d = M;\n      }\n\n      function E(e) {\n        var t = 0;\n\n        if (-1 !== e) {\n          var i = a.substring(_ + 1, e);\n          i && \"\" === i.trim() && (t = i.length);\n        }\n\n        return t;\n      }\n\n      function w(e) {\n        return i || (void 0 === e && (e = a.substring(M)), f.push(e), M = r, b(f), o && S()), R();\n      }\n\n      function C(e) {\n        M = e, b(f), f = [], g = a.indexOf(I, M);\n      }\n\n      function R(e) {\n        return {\n          data: h,\n          errors: u,\n          meta: {\n            delimiter: D,\n            linebreak: I,\n            aborted: j,\n            truncated: !!e,\n            cursor: d + (t || 0)\n          }\n        };\n      }\n\n      function S() {\n        A(R()), h = [], u = [];\n      }\n\n      function x(e, t, i) {\n        var r = {\n          nextDelim: void 0,\n          quoteSearch: void 0\n        },\n            n = a.indexOf(O, t + 1);\n\n        if (t < e && e < n && (n < i || -1 === i)) {\n          var s = a.indexOf(D, n);\n          if (-1 === s) return r;\n          n < s && (n = a.indexOf(O, n + 1)), r = x(s, n, i);\n        } else r = {\n          nextDelim: e,\n          quoteSearch: t\n        };\n\n        return r;\n      }\n    }, this.abort = function () {\n      j = !0;\n    }, this.getCharIndex = function () {\n      return M;\n    };\n  }\n\n  function m(e) {\n    var t = e.data,\n        i = a[t.workerId],\n        r = !1;\n    if (t.error) i.userError(t.error, t.file);else if (t.results && t.results.data) {\n      var n = {\n        abort: function abort() {\n          r = !0, _(t.workerId, {\n            data: [],\n            errors: [],\n            meta: {\n              aborted: !0\n            }\n          });\n        },\n        pause: v,\n        resume: v\n      };\n\n      if (q(i.userStep)) {\n        for (var s = 0; s < t.results.data.length && (i.userStep({\n          data: t.results.data[s],\n          errors: t.results.errors,\n          meta: t.results.meta\n        }, n), !r); s++) {\n          ;\n        }\n\n        delete t.results;\n      } else q(i.userChunk) && (i.userChunk(t.results, n, t.file), delete t.results);\n    }\n    t.finished && !r && _(t.workerId, t.results);\n  }\n\n  function _(e, t) {\n    var i = a[e];\n    q(i.userComplete) && i.userComplete(t), i.terminate(), delete a[e];\n  }\n\n  function v() {\n    throw new Error(\"Not implemented.\");\n  }\n\n  function w(e) {\n    if (\"object\" != typeof e || null === e) return e;\n    var t = Array.isArray(e) ? [] : {};\n\n    for (var i in e) {\n      t[i] = w(e[i]);\n    }\n\n    return t;\n  }\n\n  function y(e, t) {\n    return function () {\n      e.apply(t, arguments);\n    };\n  }\n\n  function q(e) {\n    return \"function\" == typeof e;\n  }\n\n  return o && (f.onmessage = function (e) {\n    var t = e.data;\n    void 0 === b.WORKER_ID && t && (b.WORKER_ID = t.workerId);\n    if (\"string\" == typeof t.input) f.postMessage({\n      workerId: b.WORKER_ID,\n      results: b.parse(t.input, t.config),\n      finished: !0\n    });else if (f.File && t.input instanceof File || t.input instanceof Object) {\n      var i = b.parse(t.input, t.config);\n      i && f.postMessage({\n        workerId: b.WORKER_ID,\n        results: i,\n        finished: !0\n      });\n    }\n  }), (l.prototype = Object.create(u.prototype)).constructor = l, (c.prototype = Object.create(u.prototype)).constructor = c, (p.prototype = Object.create(p.prototype)).constructor = p, (g.prototype = Object.create(u.prototype)).constructor = g, b;\n});"],"sourceRoot":""}
(this["webpackJsonptrading-strategy-tester"]=this["webpackJsonptrading-strategy-tester"]||[]).push([[0],{112:function(e,t,a){var n={"./alphavantage/api":[293,3,7],"./xAPI/api":[294,4]};function r(e){if(!a.o(n,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=n[e],r=t[0];return Promise.all(t.slice(1).map(a.e)).then((function(){return a(r)}))}r.keys=function(){return Object.keys(n)},r.id=112,e.exports=r},137:function(e){e.exports=JSON.parse('{"common":{"hello_world":"Welcome to Trading Strategy Tester","list":"list","listv":"list","create":"create","edit":"edit","delete":"delete","save":"save","cancel":"cancel","loading":"loading","admin":"admin","error_saving":"error saving","ok":"ok","nr":"nr.","from":"from","remove":"remove","download":"download pdf","generate":"generate pdf","select_data_source":"select data source","select_symbol":"select symbol","select_period":"select period","select_strategy":"select strategy"},"orderbooks":{"orderbooks":"orderbooks"},"xapi":{"symbols":{"symbols":"XAPI symbols"}},"alphavantage":{"symbols":{"symbols":"Alphavantage symbols"}},"symbols":{"symbols":"symbols","symbol":"symbol","currency":"currency","category_name":"category name","description":"description","bid":"bid","ask":"ask","high":"high","low":"low","name":"name","type":"type","region":"region","market_open":"market open","market_close":"market close","timezone":"timezone"}}')},144:function(e,t,a){e.exports=a(291)},266:function(e,t,a){},267:function(e,t,a){},268:function(e,t,a){},270:function(e,t,a){},271:function(e,t,a){},287:function(e,t,a){var n={"./test01.ts":[295,5],"./test02.ts":[296,6]};function r(e){if(!a.o(n,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=n[e],r=t[0];return a.e(t[1]).then((function(){return a(r)}))}r.keys=function(){return Object.keys(n)},r.id=287,e.exports=r},291:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),o=a(70),s=a(42),c=a(15),i=a.n(c),l=a(21),u="LOGIN",d="REGISTER",m="LOGOUT",p=a(16),h=a(17),f=a(19),b=a(18),y=a(20),g=a(299),E=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(f.a)(this,Object(b.a)(t).call(this,e))).state={dataSources:["alphavantage","xAPI","finnhub"]},a}return Object(y.a)(t,e),Object(h.a)(t,[{key:"onHandleDataSourceChanged",value:function(e){this.props.onSetDataSource(e.target.value)}},{key:"render",value:function(){for(var e=this.state.dataSources,t=[],a=0;a<e.length;a++)t.push(r.a.createElement("option",{value:e[a],key:a},e[a]));return r.a.createElement(r.a.Fragment,null,r.a.createElement("h4",null,"Select data source"),r.a.createElement(g.a,{type:"select",name:"data-source",id:"dataSourceSelect",value:this.props.dataSource,onChange:this.onHandleDataSourceChanged.bind(this)},t))}}]),t}(n.Component),S=i()(E),O=Object(l.connect)(null,(function(e){return{onSetDataSource:function(t){e(function(e){return{type:"SET_DATA_SOURCE",dataSource:e}}(t))}}}))(S),v=a(34),k=a.n(v),j=a(71),A=a(138),C=(a(111),a(300)),w=a(301),T=a(302),D=a(303),x=a(304),P=[{str:"M1",val:1},{str:"M5",val:5},{str:"M15",val:15},{str:"M30",val:30},{str:"H1",val:60},{str:"H4",val:240},{str:"D1",val:1440},{str:"W1",val:10080},{str:"MN1",val:43200}],_=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(f.a)(this,Object(b.a)(t).call(this,e))).state={keyword:null,symbols:[],loading:!0},a}return Object(y.a)(t,e),Object(h.a)(t,[{key:"onHandleKeywordChange",value:function(e){this.setState({keyword:e.target.value})}},{key:"onHandleSearchClick",value:function(){var e=Object(j.a)(k.a.mark((function e(t){var n,r;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a(112)("./"+this.props.dataSource+"/api");case 2:return n=e.sent,e.next=5,n.searchSymbol(this.state.keyword);case 5:r=e.sent,console.log(r),this.setState({symbols:r,loading:!1});case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onHandleSymbolClick",value:function(e){this.props.onSetSymbol(e)}},{key:"onHandlePeriodChange",value:function(e){this.props.onSetPeriod(e.target.value)}},{key:"onHandleDefaultChange",value:function(e){this.props.onSetIsDefault(e.target.checked)}},{key:"onHandleAddClick",value:function(){var e=Object(j.a)(k.a.mark((function e(t){var n,r;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a(112)("./"+this.props.dataSource+"/api");case 2:return n=e.sent,e.next=5,n.getCandles(this.props.symbol,this.props.period);case 5:r=e.sent,this.props.onAddCandles(this.props.symbol,this.props.period,this.props.isDefault,r),this.props.onSetIsDefault(!1);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){for(var e=this,t=this.state,a=t.symbols,n=t.loading,o=[],s=0;s<P.length;s++)o.push(r.a.createElement("option",{value:P[s].val,key:s},P[s].str));var c=void 0===this.props.symbolsAndPeriods.find((function(e){return!0===e.isDefault}));return r.a.createElement(r.a.Fragment,null,r.a.createElement("h4",null,"Add symbol and period"),r.a.createElement(C.a,null,r.a.createElement(w.a,null,r.a.createElement("h5",null,"Search symbol"))),r.a.createElement(C.a,null,r.a.createElement(w.a,{sm:"6"},r.a.createElement(g.a,{type:"text",name:"keyword",id:"keyword",value:this.state.keyword,onChange:this.onHandleKeywordChange.bind(this)})),r.a.createElement(w.a,{sm:"6"},r.a.createElement(T.a,{block:!0,onClick:this.onHandleSearchClick.bind(this)},"Search symbol"))),r.a.createElement(C.a,null,r.a.createElement(w.a,null,r.a.createElement("h5",null,"Select symbol"),r.a.createElement(A.a,{getTdProps:function(t,a,n,r){return{onClick:function(t,n){e.onHandleSymbolClick(a.original.symbol)}}},data:a,columns:[{id:"symbol",Header:this.props.p.tc("symbols.symbol"),accessor:function(e){return e.symbol}},{id:"name",Header:this.props.p.tc("symbols.name"),accessor:function(e){return e.name}},{id:"type",Header:this.props.p.tc("symbols.type"),accessor:function(e){return e.type}},{id:"currency",Header:this.props.p.tc("symbols.currency"),accessor:function(e){return e.currency}}],defaultPageSize:10,className:"-striped -highlight",loading:n,filterable:!0}))),r.a.createElement(C.a,null,r.a.createElement(w.a,null,r.a.createElement("h5",null,"Select period"),r.a.createElement(g.a,{type:"select",name:"period",id:"periodSelect",value:this.props.period,onChange:this.onHandlePeriodChange.bind(this)},o))),r.a.createElement(C.a,null,r.a.createElement(w.a,null,r.a.createElement("h5",null,"Select if default"),r.a.createElement(D.a,{check:!0},r.a.createElement(x.a,{check:!0},r.a.createElement(g.a,{type:"checkbox",onChange:this.onHandleDefaultChange.bind(this),disabled:!c,checked:this.props.isDefault})," ","Check if default")))),r.a.createElement(C.a,{className:"my-3 justify-content-md-center"},r.a.createElement(w.a,{sm:"6"},r.a.createElement(T.a,{block:!0,onClick:this.onHandleAddClick.bind(this)},"Add symbol and period"))))}}]),t}(n.Component),N=i()(_),H=Object(l.connect)((function(e){return{dataSource:e.testerConfigs.dataSource,symbol:e.testerConfigs.symbol,period:e.testerConfigs.period,isDefault:e.testerConfigs.isDefault,symbolsAndPeriods:e.testerConfigs.symbolsAndPeriods,strategy:e.testerConfigs.strategy}}),(function(e){return{onSetSymbol:function(t){e(function(e){return{type:"SET_SYMBOL",symbol:e}}(t))},onSetPeriod:function(t){e(function(e){return{type:"SET_PERIOD",period:e}}(t))},onSetIsDefault:function(t){e(function(e){return{type:"SET_IS_DEFAULT",isDefault:e}}(t))},onAddCandles:function(t,a,n,r){e(function(e,t,a,n){return{type:"ADD_CANDLES",symbol:e,period:t,isDefault:a,candles:n}}(t,a,n,r))}}}))(N),I=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(f.a)(this,Object(b.a)(t).call(this,e))).state={strategies:["test01","test02"]},a}return Object(y.a)(t,e),Object(h.a)(t,[{key:"onHandleStrategyChanged",value:function(e){this.props.onSetStrategy(e.target.value)}},{key:"render",value:function(){for(var e=this.state.strategies,t=[],a=0;a<e.length;a++)t.push(r.a.createElement("option",{value:e[a],key:a},e[a]));return r.a.createElement(r.a.Fragment,null,r.a.createElement("h4",null,"Select strategy"),r.a.createElement(g.a,{type:"select",name:"strategy",id:"strategySelect",value:this.props.strategy,onChange:this.onHandleStrategyChanged.bind(this)},t))}}]),t}(n.Component),F=i()(I),M=Object(l.connect)(null,(function(e){return{onSetStrategy:function(t){e(function(e){return{type:"SET_STRATEGY",strategy:e}}(t))}}}))(F),L=a(64),R=a.n(L),z=a(80),Y=a(27),U=a(58),X=a(43),B=a(44),V=a(30),G=a(132),W=a(74),J=a(57),K=a(133),Z=a(2),q=function(e){function t(){return Object(p.a)(this,t),Object(f.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(y.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=Object(J.ema)().id(0).options({windowSize:26}).merge((function(e,t){e.ema26=t})).accessor((function(e){return e.ema26})),t=Object(J.ema)().id(1).options({windowSize:12}).merge((function(e,t){e.ema12=t})).accessor((function(e){return e.ema12})),a=Object(J.sma)().id(3).options({windowSize:50,sourcePath:"volume"}).merge((function(e,t){e.smaVolume50=t})).accessor((function(e){return e.smaVolume50})),n=Object(J.rsi)().options({windowSize:14}).merge((function(e,t){e.rsi=t})).accessor((function(e){return e.rsi})),o=Object(J.atr)().options({windowSize:14}).merge((function(e,t){e.atr14=t})).accessor((function(e){return e.atr14})),s=this.props,c=s.type,i=s.data,l=s.width,u=s.ratio,d=e(t(a(n(o(i))))),m=G.discontinuousTimeScaleProvider.inputDateAccessor((function(e){return e.date}))(d),p=m.data,h=m.xScale,f=m.xAccessor,b=m.displayXAccessor,y=[f(Object(Z.last)(p)),f(p[Math.max(0,p.length-150)])];return r.a.createElement(U.b,{height:730,width:l,ratio:u,margin:{left:70,right:70,top:20,bottom:30},type:c,seriesName:"ToTheTop",data:p,xScale:h,xAccessor:f,displayXAccessor:b,xExtents:y},r.a.createElement(U.a,{id:1,height:270,yExtents:[function(e){return[e.high,e.low]},e.accessor(),t.accessor()],padding:{top:10,bottom:20}},r.a.createElement(B.XAxis,{axisAt:"bottom",orient:"bottom",showTicks:!1,outerTickSize:0}),r.a.createElement(B.YAxis,{axisAt:"right",orient:"right",ticks:5}),r.a.createElement(V.MouseCoordinateY,{at:"right",orient:"right",displayFormat:Object(z.b)(".2f")}),r.a.createElement(X.CandlestickSeries,null),r.a.createElement(X.LineSeries,{yAccessor:e.accessor(),stroke:e.stroke()}),r.a.createElement(X.LineSeries,{yAccessor:t.accessor(),stroke:t.stroke()}),r.a.createElement(V.CurrentCoordinate,{yAccessor:e.accessor(),fill:e.stroke()}),r.a.createElement(V.CurrentCoordinate,{yAccessor:t.accessor(),fill:t.stroke()}),r.a.createElement(V.EdgeIndicator,{itemType:"last",orient:"right",edgeAt:"right",yAccessor:function(e){return e.close},fill:function(e){return e.close>e.open?"#6BA583":"#FF0000"}}),r.a.createElement(W.OHLCTooltip,{xDisplayFormat:Object(Y.b)("%Y-%m-%d %H:%M"),origin:[-40,0]}),r.a.createElement(W.MovingAverageTooltip,{onClick:function(e){return console.log(e)},origin:[-38,15],options:[{yAccessor:e.accessor(),type:"EMA",stroke:e.stroke(),windowSize:e.options().windowSize},{yAccessor:t.accessor(),type:"EMA",stroke:t.stroke(),windowSize:t.options().windowSize}]})),r.a.createElement(U.a,{id:2,height:150,yExtents:[function(e){return e.volume},a.accessor()],origin:function(e,t){return console.log("chart id 2:",e,t),[0,t-400]}},r.a.createElement(B.YAxis,{axisAt:"left",orient:"left",ticks:5,tickFormat:Object(z.b)(".2s")}),r.a.createElement(V.MouseCoordinateY,{at:"left",orient:"left",displayFormat:Object(z.b)(".4s")}),r.a.createElement(X.BarSeries,{yAccessor:function(e){return e.volume},fill:function(e){return e.close>e.open?"#6BA583":"#FF0000"}}),r.a.createElement(X.AreaSeries,{yAccessor:a.accessor(),stroke:a.stroke(),fill:a.fill()})),r.a.createElement(U.a,{id:3,yExtents:[0,100],height:125,origin:function(e,t){return console.log("chart id 3:",e,t),[0,t-250]}},r.a.createElement(B.XAxis,{axisAt:"bottom",orient:"bottom",showTicks:!1,outerTickSize:0}),r.a.createElement(B.YAxis,{axisAt:"right",orient:"right",tickValues:[30,50,70]}),r.a.createElement(V.MouseCoordinateY,{at:"right",orient:"right",displayFormat:Object(z.b)(".2f")}),r.a.createElement(X.RSISeries,{yAccessor:function(e){return e.rsi}}),r.a.createElement(W.RSITooltip,{origin:[-38,15],yAccessor:function(e){return e.rsi},options:n.options()})),r.a.createElement(U.a,{id:8,yExtents:o.accessor(),height:125,origin:function(e,t){return[0,t-125]},padding:{top:10,bottom:10}},r.a.createElement(B.XAxis,{axisAt:"bottom",orient:"bottom"}),r.a.createElement(B.YAxis,{axisAt:"right",orient:"right",ticks:2}),r.a.createElement(V.MouseCoordinateX,{at:"bottom",orient:"bottom",displayFormat:Object(Y.b)("%Y-%m-%d %H:%M")}),r.a.createElement(V.MouseCoordinateY,{at:"right",orient:"right",displayFormat:Object(z.b)(".2f")}),r.a.createElement(X.LineSeries,{yAccessor:o.accessor(),stroke:o.stroke()}),r.a.createElement(W.SingleValueTooltip,{yAccessor:o.accessor(),yLabel:"ATR (".concat(o.options().windowSize,")"),yDisplayFormat:Object(z.b)(".2f"),origin:[-40,15]})),r.a.createElement(V.CrossHairCursor,null))}}]),t}(r.a.Component);q.defaultProps={type:"svg"};var Q,$,ee,te=q=Object(K.fitWidth)(q),ae=(a(266),function(e){function t(){return Object(p.a)(this,t),Object(f.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(y.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this.props.candles.map((function(e){return e.candles.map((function(e){var t={};return t.date=R()(e.date).toDate(),t.open=e.open,t.high=e.high,t.low=e.low,t.close=e.close,t.volume=e.volume,t}))})).map((function(e){return r.a.createElement(te,{type:"hybrid",data:e})}));return r.a.createElement("div",null,e)}}]),t}(n.Component)),ne=i()(ae),re=Object(l.connect)((function(e){return{candles:e.testerConfigs.symbolsAndPeriods}}))(ne),oe=a(310),se=a(306),ce=a(307),ie=a(308),le=a(309),ue=function(e){function t(){return Object(p.a)(this,t),Object(f.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(y.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this.props,t=e.startPrice,a=e.endPrice,n=e.side,o=e.startDate,s=e.endDate,c="success",i=0;return"BUY"===n?i=a-t:"SELL"===n&&(i=t-a),i<0&&(c="danger"),r.a.createElement(se.a,{color:c},r.a.createElement(ce.a,null,n),r.a.createElement(ie.a,null,R()(o).format("MMM D ddd HH:mm"),": ",r.a.createElement(le.a,{pill:!0},t),r.a.createElement("br",null),R()(s).format("MMM D ddd HH:mm"),": ",r.a.createElement(le.a,{pill:!0},a),r.a.createElement("br",null),"Profit: ",r.a.createElement(le.a,{pill:!0},i.toFixed(2))))}}]),t}(n.Component),de=i()(ue),me=(a(267),function(e){function t(){return Object(p.a)(this,t),Object(f.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(y.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=0,t=[];return this.props.trades.forEach((function(a,n,o){if("NONE"!==a.side){var s=n<o.length-1?o[n+1]:{date:"",price:a.price};t.push(r.a.createElement(de,{startPrice:a.price,endPrice:s.price,side:a.side,startDate:a.date,endDate:s.date})),"BUY"===a.side&&(e+=s.price-a.price),"SELL"===a.side&&(e+=a.price-s.price)}})),r.a.createElement(C.a,null,r.a.createElement(w.a,null,r.a.createElement("h4",null,"Profit: ",r.a.createElement("span",{className:"text-danger font-weight-bold"},e.toFixed(2))),r.a.createElement("h4",null,"Strategy results:"),r.a.createElement(oe.a,null,t)))}}]),t}(n.Component)),pe=i()(me),he=Object(l.connect)((function(e){return{trades:e.testerResults.trades}}))(pe),fe=(a(268),i()((function(){return r.a.createElement(C.a,{className:"main"},r.a.createElement(w.a,null,r.a.createElement(s.c,null,r.a.createElement(s.a,{exact:!0,path:"/data-source",component:O}),r.a.createElement(s.a,{exact:!0,path:"/symbol-period",component:H}),r.a.createElement(s.a,{exact:!0,path:"/strategy",component:M}),r.a.createElement(s.a,{exact:!0,path:"/charts",component:re}),r.a.createElement(s.a,{exact:!0,path:"/results",component:he}))))}))),be=a(311),ye=(a(270),[{str:"M1",val:1},{str:"M5",val:5},{str:"M15",val:15},{str:"M30",val:30},{str:"H1",val:60},{str:"H4",val:240},{str:"D1",val:1440},{str:"W1",val:10080},{str:"MN1",val:43200}]),ge=function(e){function t(){return Object(p.a)(this,t),Object(f.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(y.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this,t=ye.filter((function(t){return t.val===Number(e.props.period)}));return r.a.createElement(C.a,null,r.a.createElement(w.a,null,r.a.createElement("p",null,"Symbol: ",this.props.symbol," Period: ",t[0].str," ",this.props.isDefault?"default":"")))}}]),t}(n.Component),Ee=i()(ge),Se=function(e){var t=[];return e.symbolsAndPeriods.forEach((function(e,a,n){t.push(r.a.createElement(Ee,{key:e.symbol+e.period,symbol:e.symbol,period:e.period,isDefault:e.isDefault}))})),r.a.createElement(C.a,{className:"right-sidebar"},r.a.createElement(w.a,null,r.a.createElement(C.a,{className:"my-5"},r.a.createElement(w.a,{className:"border-bottom border-top"},r.a.createElement("p",{className:"font-weight-bold"},"Selected data source:"),r.a.createElement("p",null,e.dataSource))),r.a.createElement(C.a,{className:"my-5"},r.a.createElement(w.a,{className:"border-bottom border-top"},r.a.createElement("p",{className:"font-weight-bold"},"Added symbols and periods:"),t)),r.a.createElement(C.a,{className:"my-5"},r.a.createElement(w.a,{className:"border-bottom border-top"},r.a.createElement("p",{className:"font-weight-bold"},"Selected strategy:"),r.a.createElement("p",null,e.strategy)))))},Oe=Object(l.connect)((function(e){return{dataSource:e.testerConfigs.dataSource,symbol:e.testerConfigs.symbol,period:e.testerConfigs.period,symbolsAndPeriods:e.testerConfigs.symbolsAndPeriods,strategy:e.testerConfigs.strategy}}))(Se),ve=function(e){return{type:"SET_IS_TEST_FINISHED",isTestFinished:e}},ke=(a(271),a(36)),je=a(135),Ae=a.n(je),Ce=a(77),we=a.n(Ce),Te=we()("tester"),De=!1,xe=[],Pe=function(){var e=Object(j.a)(k.a.mark((function e(t,n){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return De=!1,xe=[],n,$=n.filter((function(e){return!0===e.isDefault}))[0],e.next=6,a(287)("./"+t+".ts");case 6:Q=e.sent,Ve.emit(Ge);case 8:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),_e=function(e){if(Te("Handling candle idx ["+e+"]"),e<$.candles.length){if(De){var t=Q.exit($.candles,e,ee);!0===t.result&&(xe.push(t.trade),De=!1)}else{var a=Q.enter($.candles,e);!0===a.result&&(xe.push(a.trade),ee=a.trade,De=!0)}Ve.emit(We,{idx:e})}else Ve.emit(Je,{trades:xe})},Ne=a(46);var He=a(139),Ie=a(92);function Fe(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Me(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Fe(a,!0).forEach((function(t){Object(Ie.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Fe(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Le=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{dataSource:null,symbol:null,period:5,isDefault:!0,symbolsAndPeriods:[],strategy:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_DATA_SOURCE":return e.dataSource===t.dataSource?e:Me({},e,{dataSource:t.dataSource,symbol:null,period:5,symbolsAndPeriods:[]});case"SET_SYMBOL":return Me({},e,{symbol:t.symbol});case"SET_PERIOD":return Me({},e,{period:t.period});case"SET_IS_DEFAULT":return Me({},e,{isDefault:t.isDefault});case"ADD_CANDLES":return Me({},e,{symbolsAndPeriods:[].concat(Object(He.a)(e.symbolsAndPeriods),[{symbol:t.symbol,period:t.period,isDefault:t.isDefault,candles:t.candles}])});case"SET_STRATEGY":return Me({},e,{strategy:t.strategy});default:return e}};function Re(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function ze(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Re(a,!0).forEach((function(t){Object(Ie.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Re(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Ye=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isTestFinished:!0,trades:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_IS_TEST_FINISHED":return ze({},e,{isTestFinished:t.isTestFinished});case"SET_TRADES":return ze({},e,{trades:t.trades});default:return e}},Ue=a(136),Xe=Object(Ne.combineReducers)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isLoggedIn:!1,user:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case u:case d:return{isLoggedIn:t.isLoggedIn,user:t.user};case m:return{isLoggedIn:t.isLoggedIn,user:null};default:return e}},testerConfigs:Le,testerResults:Ye,polyglot:Ue.polyglotReducer}),Be=Object(Ne.createStore)(Xe,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()),Ve=new Ae.a,Ge=(we()("event-handler"),"TESTER_INITIALIZED"),We="CANDLE_HANDLED",Je="FINISHED";Ve.on("START",(function(e){console.log("Starting tester"),Pe(e.strategy,e.allCandles)})),Ve.on(Ge,(function(){console.log("Tester initialized; handling first candle"),_e(0)})),Ve.on(We,(function(e){console.log("Handling candle",e.idx+1),_e(++e.idx)})),Ve.on(Je,(function(e){console.log("Test finished!"),Be.dispatch(ve(!0)),Be.dispatch({type:"SET_TRADES",trades:e.trades})}));var Ke=function(e){function t(){return Object(p.a)(this,t),Object(f.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(y.a)(t,e),Object(h.a)(t,[{key:"onRunTestClick",value:function(e){this.props.onSetIsTestFinished(!1),Ve.emit("START",{strategy:this.props.strategy,allCandles:this.props.symbolsAndPeriods})}},{key:"render",value:function(){return this.props.isTestFinished?r.a.createElement(C.a,{className:"left-sidebar"},r.a.createElement(w.a,null,r.a.createElement(C.a,null,r.a.createElement(w.a,{className:"text-center"},r.a.createElement("h3",null,"Trading Strategy Tester"))),r.a.createElement(C.a,{className:"mt-5"},r.a.createElement(w.a,null,r.a.createElement(T.a,{block:!0,color:"success",tag:ke.b,to:"data-source"},"Select data source"))),r.a.createElement(C.a,{className:"mt-5"},r.a.createElement(w.a,null,r.a.createElement(T.a,{block:!0,color:"success",tag:ke.b,to:"symbol-period",disabled:null===this.props.dataSource},"Add symbol & period"))),r.a.createElement(C.a,{className:"mt-5"},r.a.createElement(w.a,null,r.a.createElement(T.a,{block:!0,color:"success",tag:ke.b,to:"strategy"},"Select strategy"))),r.a.createElement(C.a,{className:"mt-5"},r.a.createElement(w.a,null,r.a.createElement(T.a,{block:!0,color:"primary",onClick:this.onRunTestClick.bind(this),disabled:null===this.props.dataSource||null===this.props.strategy||0===this.props.symbolsAndPeriods.length},"Run test"))),r.a.createElement(C.a,{className:"mt-5"},r.a.createElement(w.a,null,r.a.createElement(T.a,{block:!0,color:"warning",tag:ke.b,to:"charts",disabled:0===this.props.symbolsAndPeriods.length},"View charts"))),r.a.createElement(C.a,{className:"mt-5"},r.a.createElement(w.a,null,r.a.createElement(T.a,{block:!0,color:"warning",tag:ke.b,to:"results",disabled:!1===this.props.isTestFinished},"View results"))))):r.a.createElement("img",{alt:"",src:"loading.gif"})}}]),t}(r.a.Component),Ze=i()(Ke),qe=Object(l.connect)((function(e){return{isTestFinished:e.testerResults.isTestFinished,dataSource:e.testerConfigs.dataSource,symbol:e.testerConfigs.symbol,period:e.testerConfigs.period,symbolsAndPeriods:e.testerConfigs.symbolsAndPeriods,strategy:e.testerConfigs.strategy}}),(function(e){return{onSetIsTestFinished:function(t){e(ve(t))}}}))(Ze),Qe=function(){return r.a.createElement("div",null,r.a.createElement(be.a,{fluid:!0},r.a.createElement(C.a,null,r.a.createElement(w.a,{sm:"2"},r.a.createElement(qe,null)),r.a.createElement(w.a,{sm:"7"},r.a.createElement(fe,null)),r.a.createElement(w.a,{sm:"3"},r.a.createElement(Oe,null)))))},$e=(a(290),a(90)),et=a(137);Be.dispatch(Object($e.setLanguage)("en",et)),o.render(n.createElement(l.Provider,{store:Be},n.createElement(ke.a,null,n.createElement(Qe,null))),document.getElementById("root"))}},[[144,1,2]]]);
//# sourceMappingURL=main.1ecd5e9e.chunk.js.map